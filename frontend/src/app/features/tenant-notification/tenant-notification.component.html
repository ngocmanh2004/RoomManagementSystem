<div class="notification-wrapper" *ngIf="!loading">

  <!-- LIST -->
  <div class="notification-list" *ngIf="notifications.length > 0">

    <div *ngFor="let notif of notifications"
         class="notification-card"
         [class.unread]="!notif.isRead"
         (click)="!notif.isRead && markAsRead(notif)">

      <!-- ICON -->
      <div class="notif-icon">
        <span *ngIf="notif.type === 'SYSTEM'">ğŸ””</span>
        <span *ngIf="notif.type === 'PAYMENT_RECEIVED'">ğŸ’°</span>
        <span *ngIf="notif.type === 'UTILITY_REQUEST'">âš¡</span>
      </div>

      <!-- CONTENT -->
      <div class="notif-body">
        <div class="notif-top">
          <h4 class="notif-title">{{ notif.title }}</h4>

          <div class="notif-actions">
            <span *ngIf="!notif.isRead" class="badge-important">
              Quan trá»ng
            </span>
            <a *ngIf="!notif.isRead"
               class="mark-read"
               (click)="markAsRead(notif); $event.stopPropagation()">
              ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c
            </a>
          </div>
        </div>

        <p class="notif-message">{{ notif.message }}</p>

        <div class="notif-time">
          â° {{ timeAgo(notif.createdAt) }}
        </div>
      </div>
    </div>
  </div>

  <!-- PAGINATION -->
  <div *ngIf="totalPages > 1" class="pagination">
    <button [disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">
      â† TrÆ°á»›c
    </button>

    <button *ngFor="let page of pages"
            [class.active]="page === currentPage"
            (click)="goToPage(page)">
      {{ page }}
    </button>

    <button [disabled]="currentPage === totalPages" (click)="goToPage(currentPage + 1)">
      Sau â†’
    </button>
  </div>

</div>
